# Deployment of TMA Monitor
To deploy a testing mode of TMA Monitor, the first step is to deploy all components of TMA Monitor. To do that you should follow the instructions presented in this [README](https://github.com/eubr-atmosphere/tma-framework-m/blob/master/development/server/README.md).

# Testing Mode Setup
With all components deployed and working correctly, you need to initialize Apache Flume in their respective pod. To do that execute this [script](https://github.com/eubr-atmosphere/tma-framework-m/blob/master/development/server/flume/flume.sh).

This script shows a menu with two options. One of the options configures and executes Apache Flume to save the received data in a MySQL database that belongs to `TMA_Knowledge` component.
The second option presented in the menu of `flume.sh`script configures the testing mode in Apache Flume. In this mode, Apache Flume saves in a log file, for each observation, a SQL query that user can insert it in all types of SQL databases.

To initialize the testing mode, you should choose the second option of the menu.

# Testing
To test TMA Monitor in testing mode, you just need to check the respective log file in `/home/kubernetes/Desktop/testingmode` folder on the node of the Kubernetes cluster that Apache Flume pod is running. In testing mode, the throughput of the data generated by probes is not supported by Apache Flume, so to test this mode you can use this [script](https://github.com/eubr-atmosphere/tma-framework-m/blob/master/development/test/testing-json-format/testing-json-format.sh). After running this script, you can check the log file with the queries ready to insert in any SQL database. 
